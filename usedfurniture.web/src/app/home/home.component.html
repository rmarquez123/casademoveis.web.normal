<main class="content-container">

  <section class="categories-section">
    <div class="categories-grid">
      <button
        class="category-card unselectable"
        *ngFor="let category of categories"
        [class.selected]="selectedCategory === category.id"
        (click)="toggleCategory(category.id)"
        type="button"
      >
        {{ category.name }}
      </button>
    </div>
  </section>

  <section class="furniture-grid" *ngIf="items.length > 0; else emptyState">
    <article class="furniture-card" *ngFor="let item of items">

      <img
        [src]="item.pictures?.[0] ?? 'assets/images/placeholder.jpg'"
        [alt]="item.name"
        (click)="viewDetails(item)"
      />

      <h3>{{ item.name }}</h3>

      <p class="price">
        Preço:
        <span class="price-value">
          {{ item.price ? (item.price | currency:'BRL') : 'Sob consulta' }}
        </span>
      </p>

      <p class="recieved" *ngIf="item.dateReceived">
        {{ item.dateReceived | date:'dd/MM/yyyy' }}
      </p>

      <div class="actions">
        <button (click)="viewDetails(item)" type="button">Ver detalhes</button>
        <button class="ghost" (click)="askAbout(item)" type="button">Tenho interesse</button>
      </div>

    </article>
  </section>

  <ng-template #emptyState>
    <p class="no-items-message">
      Nenhum item encontrado. Selecione uma categoria ou navegue por todos os móveis.
    </p>
  </ng-template>

</main>
